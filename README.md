# GameMaster - å»ä¸­å¿ƒåŒ–èŠå¤©åŒºå—é“¾èŠ‚ç‚¹

GameMaster æ˜¯ä¸€ä¸ªä¸“ä¸º ChatMaster P2P èŠå¤©ç³»ç»Ÿè®¾è®¡çš„åŒºå—é“¾èŠ‚ç‚¹ï¼Œä½¿ç”¨ Rust è¯­è¨€å¼€å‘ï¼Œæä¾›å»ä¸­å¿ƒåŒ–çš„ç”¨æˆ·èº«ä»½ç®¡ç†ã€è¿æ¥è®°å½•å’Œæ¿€åŠ±æœºåˆ¶ã€‚

## ğŸ¯ é¡¹ç›®å®šä½

GameMaster ä½œä¸º ChatMaster èŠå¤©ç³»ç»Ÿçš„åŒºå—é“¾åŸºç¡€è®¾æ–½ï¼Œè´Ÿè´£ï¼š
- ç”¨æˆ·èº«ä»½çš„å»ä¸­å¿ƒåŒ–ç®¡ç†
- P2P è¿æ¥è®°å½•çš„ä¸å¯ç¯¡æ”¹å­˜å‚¨
- èŠå¤©è¡Œä¸ºçš„ä»£å¸æ¿€åŠ±åˆ†å‘
- è·¨èŠ‚ç‚¹çš„ç”¨æˆ·å‘ç°å’ŒçŠ¶æ€åŒæ­¥

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ChatMaster å®¢æˆ·ç«¯                  â”‚
â”‚         (React + WebRTC + Web3)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æ··åˆä¿¡ä»¤æœåŠ¡å™¨ (Port 3001)            â”‚
â”‚     (Socket.IO + Blockchain Client)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      GameMaster åŒºå—é“¾èŠ‚ç‚¹ (Port 3002)      â”‚
â”‚         (Rust + Warp + PoW)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—

### 1. **åŒºå—é“¾æ ¸å¿ƒ** (`src/block.rs`, `src/blockchain.rs`)
- åŸºç¡€åŒºå—ç»“æ„å’Œå“ˆå¸Œè®¡ç®—
- PoW (å·¥ä½œé‡è¯æ˜) å…±è¯†æœºåˆ¶
- åŒºå—é“¾éªŒè¯å’ŒçŠ¶æ€ç®¡ç†

### 2. **èŠå¤©æ•°æ®æ¨¡å‹** (`src/chat_data.rs`)
```rust
UserProfile {
    address: String,        // é’±åŒ…åœ°å€
    username: String,       // æ˜¾ç¤ºåç§°
    public_key: String,     // åŠ å¯†å…¬é’¥
    reputation: u64,        // ä¿¡èª‰åˆ†
    token_balance: u64,     // ä»£å¸ä½™é¢
}

ConnectionRecord {
    from_address: String,
    to_address: String,
    connection_type: String, // "p2p" or "relay"
    message_count: u64,
}
```

### 3. **èŠå¤©åŒºå—é“¾** (`src/chat_blockchain.rs`)
- ç”¨æˆ·æ³¨å†Œå’Œèº«ä»½ç®¡ç†
- åœ¨çº¿çŠ¶æ€è¿½è¸ª
- P2Pè¿æ¥è®°å½•
- ä»£å¸å¥–åŠ±æœºåˆ¶

### 4. **HTTP API** (`src/chat_api.rs`)
- RESTful API æ¥å£
- WebSocket æ”¯æŒï¼ˆè§„åˆ’ä¸­ï¼‰
- è·¨åŸŸè¯·æ±‚å¤„ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Rust 1.70+
- Cargo
- ç«¯å£ 3002 å¯ç”¨

### å®‰è£…ä¾èµ–
```bash
cd gameMaster
cargo build
```

### å¯åŠ¨èŠ‚ç‚¹
```bash
cargo run
```

èŠ‚ç‚¹å¯åŠ¨åä¼šåœ¨ç«¯å£ 3002 æä¾› HTTP API æœåŠ¡ã€‚

## ğŸ“¡ API æ¥å£

### å¥åº·æ£€æŸ¥
```http
GET /health
```

### ç”¨æˆ·æ³¨å†Œ
```http
POST /users/register
{
    "address": "0x1234...",
    "username": "Alice",
    "public_key": "pub_key_hex"
}
```

### æ›´æ–°åœ¨çº¿çŠ¶æ€
```http
POST /users/status
{
    "address": "0x1234...",
    "username": "Alice",
    "status": "online",
    "node_id": "socket_id"
}
```

### è®°å½•P2Pè¿æ¥
```http
POST /connections
{
    "from_address": "0x1234...",
    "to_address": "0x5678...",
    "connection_type": "p2p_success"
}
```

### è·å–åœ¨çº¿ç”¨æˆ·
```http
GET /users/online
```

### è·å–ç”¨æˆ·ä¿¡æ¯
```http
GET /users/{address}
```

### åŒºå—é“¾ç»Ÿè®¡
```http
GET /blockchain/stats
```

## ğŸ’° ä»£å¸ç»æµ

### åˆå§‹ä¾›åº”
- åˆ›ä¸–åŒºå—ï¼š1,000,000 ä»£å¸

### å¥–åŠ±æœºåˆ¶
| è¡Œä¸º | å¥–åŠ±æ•°é‡ | è¯´æ˜ |
|------|---------|------|
| ç”¨æˆ·æ³¨å†Œ | 100 | æ–°ç”¨æˆ·æ¿€åŠ± |
| ä¸Šçº¿ | 10 | æ´»è·ƒåº¦å¥–åŠ± |
| P2Pè¿æ¥æˆåŠŸ | 20 | åŒæ–¹å„å¾—20 |
| å‘é€æ¶ˆæ¯ | å¾…å®š | è®¡åˆ’å®ç° |
| ä¸­ç»§æ¶ˆæ¯ | å¾…å®š | èŠ‚ç‚¹è´¡çŒ®å¥–åŠ± |

### æœªæ¥è§„åˆ’
- è´¨æŠ¼æœºåˆ¶ï¼šé”å®šä»£å¸è·å¾—æ›´é«˜ä¿¡èª‰
- æ²»ç†æŠ•ç¥¨ï¼šä»£å¸æŒæœ‰è€…å‚ä¸å†³ç­–
- æ‰‹ç»­è´¹ï¼šå¤æ‚æ“ä½œéœ€è¦æ”¯ä»˜å°‘é‡ä»£å¸

## ğŸ” å®‰å…¨ç‰¹æ€§

1. **èº«ä»½å®‰å…¨**
   - åŸºäºå…¬ç§é’¥å¯¹çš„èº«ä»½éªŒè¯
   - åœ°å€ç”±å…¬é’¥æ´¾ç”Ÿï¼Œä¸å¯ä¼ªé€ 

2. **æ•°æ®å®Œæ•´æ€§**
   - æ‰€æœ‰æ•°æ®ä¸Šé“¾å‰è¿›è¡Œå“ˆå¸Œ
   - åŒºå—é“¾ä¸å¯ç¯¡æ”¹ç‰¹æ€§ä¿è¯å†å²è®°å½•

3. **éšç§ä¿æŠ¤**
   - æ¶ˆæ¯å†…å®¹ä¸ä¸Šé“¾ï¼Œä»…è®°å½•å…ƒæ•°æ®
   - æ”¯æŒç«¯åˆ°ç«¯åŠ å¯†ï¼ˆå®¢æˆ·ç«¯å®ç°ï¼‰

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Rust
- **Webæ¡†æ¶**: Warp
- **å¼‚æ­¥è¿è¡Œæ—¶**: Tokio
- **åºåˆ—åŒ–**: Serde
- **åŠ å¯†**: SHA-256
- **æ—¶é—´å¤„ç†**: Chrono

## ğŸ“‹ å¾…åŠäº‹é¡¹

- [ ] å®ç°èŠ‚ç‚¹é—´åŒæ­¥åè®®
- [ ] æ·»åŠ  WebSocket å®æ—¶æ¨é€
- [ ] å®ç°æ›´å¤æ‚çš„æ¿€åŠ±æœºåˆ¶
- [ ] æ”¯æŒæ™ºèƒ½åˆçº¦
- [ ] å®ç°è·¨é“¾æ¡¥æ¥
- [ ] æ·»åŠ  IPFS é›†æˆå­˜å‚¨å¤§æ–‡ä»¶
- [ ] å®ç° DID (å»ä¸­å¿ƒåŒ–èº«ä»½) æ ‡å‡†

## ğŸ¤ ä¸ ChatMaster é›†æˆ

GameMaster ä¸“é—¨ä¸º ChatMaster èŠå¤©ç³»ç»Ÿè®¾è®¡ï¼Œæä¾›ï¼š
1. å»ä¸­å¿ƒåŒ–çš„ç”¨æˆ·èº«ä»½ç®¡ç†
2. P2P è¿æ¥çš„ä¿¡ä»»åŸºç¡€
3. ç»æµæ¿€åŠ±ä¿ƒè¿›ç½‘ç»œæ´»è·ƒ
4. è·¨èŠ‚ç‚¹çš„ç”¨æˆ·å‘ç°

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- åŒºå—ç”Ÿæˆæ—¶é—´ï¼šçº¦ 3-5 ç§’ï¼ˆéš¾åº¦=2ï¼‰
- TPSï¼š100+ (ä¼˜åŒ–åå¯è¾¾ 1000+)
- API å“åº”æ—¶é—´ï¼š< 50ms
- å†…å­˜å ç”¨ï¼š< 100MBï¼ˆ10ä¸‡ç”¨æˆ·ï¼‰

## ğŸ”§ é…ç½®é€‰é¡¹

å¯é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š
```bash
MINING_DIFFICULTY=2     # æŒ–çŸ¿éš¾åº¦
API_PORT=3002           # API ç«¯å£
REWARD_POOL=1000000     # åˆå§‹å¥–åŠ±æ± 
BLOCK_REWARD=50         # åŒºå—å¥–åŠ±
```

## ğŸ“ å¼€æºåè®®

MIT License

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ PR å’Œ Issueï¼

## ğŸŒ ç›¸å…³é¡¹ç›®

- [ChatMaster](../chatMaster) - P2P èŠå¤©å®¢æˆ·ç«¯
- WebRTC - ç‚¹å¯¹ç‚¹é€šä¿¡åè®®
- IPFS - åˆ†å¸ƒå¼å­˜å‚¨ï¼ˆè®¡åˆ’é›†æˆï¼‰

## ğŸ“ è”ç³»æ–¹å¼

- GitHub: [LuckyYouStudio/chatMaster](https://github.com/LuckyYouStudio/chatMaster)

---

*GameMaster - ä¸ºå»ä¸­å¿ƒåŒ–èŠå¤©è€Œç”Ÿçš„åŒºå—é“¾èŠ‚ç‚¹*